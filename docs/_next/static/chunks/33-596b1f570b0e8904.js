"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{12260:(e,t,o)=>{o.d(t,{$:()=>r});let r={firstClick:{id:"firstClick",name:"The Journey Begins",description:"You made your first click!",icon:"MousePointerClick",condition:e=>e.totalClicks>=1,reward:{points:{points:10}},unlocked:!1},firstGenerator:{id:"firstGenerator",name:"Resourceful",description:"Purchase your first generator.",icon:"Settings2",condition:e=>Object.values(e.generators).some(e=>e.quantity>0),reward:{points:{points:50},items:[{itemId:"minorPpsPotion",quantity:1}]},unlocked:!1},pointsMilestone1:{id:"pointsMilestone1",name:"Shard Collector",description:"Accumulate 100 Chrono Shards.",icon:"Coins",condition:e=>{var t;return(null===(t=e.resources.points)||void 0===t?void 0:t.amount)>=100},reward:{points:{points:100},permanentBoosts:{stat:"globalPpsMultiplier",value:.01}},unlocked:!1}}},23062:(e,t,o)=>{o.d(t,{DE:()=>a,SP:()=>r,YD:()=>n,hO:()=>c,op:()=>s,sf:()=>i});var r=function(e){return e.Armour="Armour",e.Weapon="Weapon",e.Accessory="Accessory",e.Consumable="Consumable",e}({}),n=function(e){return e.Helmet="Helmet",e.Chest="Chest",e.Leggings="Leggings",e.Boots="Boots",e}({}),s=function(e){return e.Knife="Knife",e.Sword="Sword",e.Bow="Bow",e.Staff="Staff",e}({}),i=function(e){return e.Necklace="Necklace",e.Ring="Ring",e}({}),a=function(e){return e.Leather="Leather",e.Copper="Copper",e.Iron="Iron",e.Gold="Gold",e.Diamond="Diamond",e.Wood="Wood",e.Metal="Metal",e.Gem="Gem",e}({});let c=["Head","Body","Legs","Feet","Weapon","Necklace","Ring1","Ring2"]},26112:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>useGame,S:()=>GameProvider});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95155),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12115),_config_resources__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39709),_config_generators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41066),_config_items__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92364),_config_characters__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(53180),_config_achievements__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(12260),_lib_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23062),_hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(87481);let startingGear=Object.values(_config_items__WEBPACK_IMPORTED_MODULE_4__.F).filter(e=>e.equippable).map(e=>({itemId:e.id,quantity:1})),staticDefaultGameStateParts={points:0,resources:JSON.parse(JSON.stringify(_config_resources__WEBPACK_IMPORTED_MODULE_2__.Y)),generators:JSON.parse(JSON.stringify(_config_generators__WEBPACK_IMPORTED_MODULE_3__.r)),inventory:startingGear,equippedItems:_lib_types__WEBPACK_IMPORTED_MODULE_7__.hO.reduce((e,t)=>({...e,[t]:null}),{}),currentCharacterId:_config_characters__WEBPACK_IMPORTED_MODULE_5__.I,unlockedAchievements:[],permanentBoosts:{globalPpsMultiplier:1,globalDropRateMultiplier:1},settings:{currentMultiplier:1,gameSpeed:1},totalClicks:0},getFreshDefaultGameState=()=>({...JSON.parse(JSON.stringify(staticDefaultGameStateParts)),lastUpdate:Date.now()}),GameContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(void 0),BASE_ITEM_DROP_CHANCE=.005,GameProvider=param=>{let{children}=param,[gameState,setGameState]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getFreshDefaultGameState()),{toast}=(0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_8__.dj)();(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let e=localStorage.getItem("chronoClickerSave");if(e)try{let t=JSON.parse(e),o=getFreshDefaultGameState(),r={...o.resources};for(let e in t.resources)r[e]={...r[e]||{},...t.resources[e]};let n={...o.generators};for(let e in t.generators)n[e]={...n[e]||{},...t.generators[e]};let s={...o.permanentBoosts,...t.permanentBoosts},i={...o.settings,...t.settings},a={...o.equippedItems,...t.equippedItems};setGameState(e=>({...o,...t,resources:r,generators:n,permanentBoosts:s,settings:i,equippedItems:a,inventory:t.inventory||o.inventory,unlockedAchievements:t.unlockedAchievements||o.unlockedAchievements,totalClicks:t.totalClicks||o.totalClicks,points:t.points||o.points,currentCharacterId:t.currentCharacterId||o.currentCharacterId,lastUpdate:Date.now()}))}catch(e){console.error("Failed to parse saved game data on mount:",e)}},[]);let getCharacter=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>gameState.currentCharacterId&&_config_characters__WEBPACK_IMPORTED_MODULE_5__.J[gameState.currentCharacterId]||null,[gameState.currentCharacterId]),getItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>_config_items__WEBPACK_IMPORTED_MODULE_4__.F[e]||null,[]),calculatePps=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{let t=0;Object.values(gameState.generators).forEach(o=>{o.producesResource===e&&(t+=o.basePps*o.quantity)});let o=getCharacter();return o&&(t*=o.basePpsMultiplier),t*=gameState.permanentBoosts.globalPpsMultiplier,Object.values(gameState.equippedItems).forEach(e=>{if(e){let o=getItem(e);o&&o.stats.ppsMultiplier&&(t*=1+o.stats.ppsMultiplier),o&&o.stats.ppsBoost&&(t+=o.stats.ppsBoost)}}),t},[gameState.generators,gameState.equippedItems,gameState.permanentBoosts.globalPpsMultiplier,getCharacter,getItem]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let e=setInterval(()=>{setGameState(e=>{let t=JSON.parse(JSON.stringify(e)),o=Date.now(),r=(o-t.lastUpdate)/1e3;return Object.keys(t.resources).forEach(e=>{let o=calculatePps(e);t.resources[e]&&(t.resources[e].perSecond=o,t.resources[e].amount+=o*r)}),t.lastUpdate=o,t})},1e3/gameState.settings.gameSpeed);return()=>clearInterval(e)},[gameState.settings.gameSpeed,calculatePps]);let performClick=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"points",t=!1,o="";setGameState(r=>{let n=JSON.parse(JSON.stringify(r));n.totalClicks=(n.totalClicks||0)+1;let s=1;Object.values(r.equippedItems).forEach(e=>{if(e){let t=getItem(e);t&&t.stats.clickPowerBoost&&(s+=t.stats.clickPowerBoost),t&&t.stats.clickPowerMultiplier&&(s*=1+t.stats.clickPowerMultiplier)}}),n.resources[e]?n.resources[e].amount=(n.resources[e].amount||0)+s:console.warn('Resource ID "'.concat(e,'" not found in performClick.'));let i=getCharacter(),a=BASE_ITEM_DROP_CHANCE*(i?i.baseDropRateMultiplier:1)*n.permanentBoosts.globalDropRateMultiplier;if(a+=Math.min(.02,Object.values(n.generators).reduce((e,t)=>e+(t.quantity||0),0)/200*.001),Math.random()<(a=Math.min(a,.1))){let e=Object.values(_config_items__WEBPACK_IMPORTED_MODULE_4__.F).filter(e=>!e.id.startsWith("artifact_")&&"Epic"!==e.rarity&&"Legendary"!==e.rarity);if(e.length>0){let r=e[Math.floor(Math.random()*e.length)];n.inventory||(n.inventory=[]);let s=n.inventory.findIndex(e=>e.itemId===r.id);s>-1?n.inventory[s].quantity+=1:n.inventory.push({itemId:r.id,quantity:1}),t=!0,o=r.name}}return n}),t&&setTimeout(()=>{toast({title:"Item Found!",description:"You found a ".concat(o,"!")})},0)},[getCharacter,getItem,toast,gameState.permanentBoosts.globalDropRateMultiplier]),buyGenerator=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(generatorId=>{setGameState(prev=>{let generator=prev.generators[generatorId];if(!generator)return prev;let costResource=prev.resources[generator.costResource];if(!costResource)return console.warn("Cost resource ".concat(generator.costResource," not found for generator ").concat(generatorId)),prev;let currentMultiplier="MAX"===prev.settings.currentMultiplier?Number.MAX_SAFE_INTEGER:prev.settings.currentMultiplier,totalCost=0,numToBuy=0,currentResourceAmount=costResource.amount,currentGeneratorQuantity=generator.quantity;if(currentMultiplier===Number.MAX_SAFE_INTEGER)for(let i=0;i<1e5;i++){let costForThisOne=generator.baseCost*Math.pow(generator.costScale,currentGeneratorQuantity+i);if(currentResourceAmount>=totalCost+costForThisOne)totalCost+=costForThisOne,numToBuy++;else break}else for(let i=0;i<currentMultiplier;i++){let costForThisOne=generator.baseCost*Math.pow(generator.costScale,currentGeneratorQuantity+i);if(currentResourceAmount>=totalCost+costForThisOne)totalCost+=costForThisOne,numToBuy++;else break}if(0===numToBuy)return setTimeout(()=>{toast({title:"Not enough resources",description:"You need more ".concat(costResource.name," to buy ").concat(generator.name,"."),variant:"destructive"})},0),prev;let newState=JSON.parse(JSON.stringify(prev));newState.resources[generator.costResource].amount-=totalCost,newState.generators[generatorId].quantity+=numToBuy;let genericItemDroppedThisPurchase=!1,droppedGenericItemName="",newTotalQuantity=newState.generators[generatorId].quantity,genericItemDropChance=Math.min(1,.01*newTotalQuantity);if(Math.random()<genericItemDropChance){let allItemIds=Object.keys(_config_items__WEBPACK_IMPORTED_MODULE_4__.F);if(allItemIds.length>0){let randomItemId=allItemIds[Math.floor(Math.random()*allItemIds.length)],randomItemDetails=_config_items__WEBPACK_IMPORTED_MODULE_4__.F[randomItemId];if(randomItemDetails){newState.inventory||(newState.inventory=[]);let existingItemIndex=newState.inventory.findIndex(e=>e.itemId===randomItemId);existingItemIndex>-1?newState.inventory[existingItemIndex].quantity+=1:newState.inventory.push({itemId:randomItemId,quantity:1}),droppedGenericItemName=randomItemDetails.name,genericItemDroppedThisPurchase=!0}}}let artifactDropped=!1,droppedArtifactName="";if(generator.artifactIds&&generator.artifactIds.length>0&&generator.artifactDropRateFormula)try{let quantity=newTotalQuantity,formulaString=generator.artifactDropRateFormula.replace(/\blog\b/gi,"Math.log").replace(/\bquantity\b/g,String(quantity)),dropRate=eval(formulaString);if(Math.random()<dropRate){let artifactId=generator.artifactIds[Math.floor(Math.random()*generator.artifactIds.length)];newState.inventory||(newState.inventory=[]);let existingArtifactIndex=newState.inventory.findIndex(e=>e.itemId===artifactId);existingArtifactIndex>-1?newState.inventory[existingArtifactIndex].quantity+=1:newState.inventory.push({itemId:artifactId,quantity:1});let artifact=getItem(artifactId);droppedArtifactName=(null==artifact?void 0:artifact.name)||"rare artifact",artifactDropped=!0}}catch(e){console.error("Error evaluating artifact drop rate formula:",e)}return setTimeout(()=>{toast({title:"Generator Purchased!",description:"Bought ".concat(numToBuy," x ").concat(generator.name)}),genericItemDroppedThisPurchase&&toast({title:"Bonus Item!",description:"Your ".concat(generator.name," yielded a ").concat(droppedGenericItemName,"!")}),artifactDropped&&toast({title:"Artifact Found!",description:"Your ".concat(generator.name," uncovered a ").concat(droppedArtifactName,"!")})},0),newState})},[toast,getItem]),equipItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((e,t)=>{setGameState(o=>{let r=getItem(e);if(!r||!r.equippable)return setTimeout(()=>{toast({title:"Cannot Equip",description:"Item is not equippable.",variant:"destructive"})},0),o;let n=!1;if(r.slot===t?n=!0:r.group===_lib_types__WEBPACK_IMPORTED_MODULE_7__.sf.Ring&&("Ring1"===t||"Ring2"===t)?n=!0:r.type===_lib_types__WEBPACK_IMPORTED_MODULE_7__.SP.Armour?(r.group===_lib_types__WEBPACK_IMPORTED_MODULE_7__.YD.Helmet&&"Head"===t&&(n=!0),r.group===_lib_types__WEBPACK_IMPORTED_MODULE_7__.YD.Chest&&"Body"===t&&(n=!0),r.group===_lib_types__WEBPACK_IMPORTED_MODULE_7__.YD.Leggings&&"Legs"===t&&(n=!0),r.group===_lib_types__WEBPACK_IMPORTED_MODULE_7__.YD.Boots&&"Feet"===t&&(n=!0)):r.type===_lib_types__WEBPACK_IMPORTED_MODULE_7__.SP.Weapon&&"Weapon"===t?n=!0:r.type===_lib_types__WEBPACK_IMPORTED_MODULE_7__.SP.Accessory&&r.group===_lib_types__WEBPACK_IMPORTED_MODULE_7__.sf.Necklace&&"Necklace"===t&&(n=!0),!n)return setTimeout(()=>{toast({title:"Cannot Equip",description:"".concat(r.name," cannot be equipped in the ").concat(t," slot."),variant:"destructive"})},0),o;let s=JSON.parse(JSON.stringify(o));s.inventory||(s.inventory=[]),s.equippedItems||(s.equippedItems=_lib_types__WEBPACK_IMPORTED_MODULE_7__.hO.reduce((e,t)=>({...e,[t]:null}),{}));let i=s.equippedItems[t];s.equippedItems[t]=e;let a=s.inventory.findIndex(t=>t.itemId===e);if(!(a>-1))return console.warn("Item ".concat(e," to be equipped was not found in inventory for quantity decrement.")),setTimeout(()=>{toast({title:"Equip Error",description:"Item not found in inventory.",variant:"destructive"})},0),o;if(s.inventory[a].quantity-=1,s.inventory[a].quantity<=0&&s.inventory.splice(a,1),i&&getItem(i)){let e=s.inventory.findIndex(e=>e.itemId===i);e>-1?s.inventory[e].quantity+=1:s.inventory.push({itemId:i,quantity:1})}return setTimeout(()=>{toast({title:"Item Equipped",description:"".concat(r.name," equipped to ").concat(t,".")})},0),s})},[getItem,toast]),unequipItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{setGameState(t=>{if(!t.equippedItems)return t;let o=t.equippedItems[e];if(!o)return t;let r=getItem(o),n=JSON.parse(JSON.stringify(t));n.inventory||(n.inventory=[]),n.equippedItems[e]=null;let s=n.inventory.findIndex(e=>e.itemId===o);return s>-1?n.inventory[s].quantity+=1:n.inventory.push({itemId:o,quantity:1}),setTimeout(()=>{toast({title:"Item Unequipped",description:"".concat((null==r?void 0:r.name)||"Item"," unequipped from ").concat(e,".")})},0),n})},[getItem,toast]),consumeItem=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setGameState(o=>{let r=getItem(e);if(!o.inventory)return o;let n=o.inventory.find(t=>t.itemId===e);if(!r||!r.consumable||!n||n.quantity<t)return setTimeout(()=>{toast({title:"Cannot Consume",description:"Item not available, not consumable, or insufficient quantity.",variant:"destructive"})},0),o;let s=JSON.parse(JSON.stringify(o));s.inventory||(s.inventory=[]);for(let e=0;e<t;e++)if(r.consumeEffect){let e=JSON.parse(JSON.stringify(s));s=r.consumeEffect(e)}let i=s.inventory.findIndex(t=>t.itemId===e);return i>-1&&s.inventory[i].quantity>=t&&(s.inventory[i].quantity-=t,s.inventory[i].quantity<=0&&s.inventory.splice(i,1)),setTimeout(()=>{toast({title:"Item Consumed",description:"".concat(t," x ").concat(r.name," consumed.")})},0),s})},[getItem,toast]),switchCharacter=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{if(!_config_characters__WEBPACK_IMPORTED_MODULE_5__.J[e]){setTimeout(()=>{toast({title:"Invalid Character",variant:"destructive"})},0);return}setGameState(t=>{let o=JSON.parse(JSON.stringify(t));return o.currentCharacterId=e,o.inventory||(o.inventory=[]),o.equippedItems||(o.equippedItems=_lib_types__WEBPACK_IMPORTED_MODULE_7__.hO.reduce((e,t)=>({...e,[t]:null}),{})),Object.keys(o.equippedItems).forEach(e=>{let t=e,r=o.equippedItems[t];if(r){let e=o.inventory.findIndex(e=>e.itemId===r);e>-1?o.inventory[e].quantity+=1:o.inventory.push({itemId:r,quantity:1}),o.equippedItems[t]=null}}),o}),setTimeout(()=>{toast({title:"Character Switched",description:"Now playing as ".concat(_config_characters__WEBPACK_IMPORTED_MODULE_5__.J[e].name,". All items returned to inventory.")})},0)},[toast]),setMultiplier=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{setGameState(t=>{let o=JSON.parse(JSON.stringify(t));return o.settings||(o.settings=getFreshDefaultGameState().settings),o.settings.currentMultiplier=e,o})},[]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let e=!1,t=[],o=[];Object.values(_config_achievements__WEBPACK_IMPORTED_MODULE_6__.$).forEach(r=>{void 0!==gameState.totalClicks&&gameState.resources&&gameState.generators&&!gameState.unlockedAchievements.includes(r.id)&&r.condition(gameState)&&(o.push(r),t.push({title:"Achievement Unlocked!",description:r.name}),e=!0)}),e&&(setGameState(e=>{let t=JSON.parse(JSON.stringify(e));return t.unlockedAchievements||(t.unlockedAchievements=[]),t.permanentBoosts||(t.permanentBoosts=getFreshDefaultGameState().permanentBoosts),t.inventory||(t.inventory=[]),t.unlockedAchievements=[...t.unlockedAchievements,...o.map(e=>e.id)],o.forEach(e=>{if(e.reward.points&&Object.entries(e.reward.points).forEach(e=>{let[o,r]=e;t.resources[o]?t.resources[o].amount=(t.resources[o].amount||0)+r:t.resources[o]={..._config_resources__WEBPACK_IMPORTED_MODULE_2__.Y[o]||{id:o,name:o,amount:0,perSecond:0},amount:r}}),e.reward.items&&e.reward.items.forEach(e=>{let o=t.inventory.find(t=>t.itemId===e.itemId);o?o.quantity+=e.quantity:t.inventory.push({itemId:e.itemId,quantity:e.quantity})}),e.reward.permanentBoosts){let{stat:o,value:r}=e.reward.permanentBoosts;if("globalPpsMultiplier"===o||"globalDropRateMultiplier"===o)t.permanentBoosts[o]=(t.permanentBoosts[o]||1)+r;else{let e="number"==typeof t.permanentBoosts[o]?t.permanentBoosts[o]:0;t.permanentBoosts[o]=e+r}}}),t}),t.forEach(e=>setTimeout(()=>toast(e),0)))},[gameState.totalClicks,JSON.stringify(gameState.resources),JSON.stringify(gameState.generators),gameState.unlockedAchievements,toast]);let saveGame=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{try{let e=JSON.parse(JSON.stringify(gameState));localStorage.setItem("chronoClickerSave",JSON.stringify(e))}catch(e){console.error("Failed to save game:",e),setTimeout(()=>toast({title:"Auto-Save Failed",variant:"destructive"}),0)}},[gameState,toast]),loadGame=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{try{let e=localStorage.getItem("chronoClickerSave");if(e){let t=JSON.parse(e),o=getFreshDefaultGameState(),r={...o.resources};for(let e in t.resources)r[e]={...r[e]||{},...t.resources[e]};let n={...o.generators};for(let e in t.generators)n[e]={...n[e]||{},...t.generators[e]};let s={...o.permanentBoosts,...t.permanentBoosts},i={...o.settings,...t.settings},a={...o.equippedItems,...t.equippedItems};return setGameState({...o,...t,resources:r,generators:n,permanentBoosts:s,settings:i,equippedItems:a,inventory:t.inventory||o.inventory,unlockedAchievements:t.unlockedAchievements||o.unlockedAchievements,totalClicks:t.totalClicks||o.totalClicks,points:t.points||o.points,currentCharacterId:t.currentCharacterId||o.currentCharacterId,lastUpdate:Date.now()}),setTimeout(()=>toast({title:"Game Loaded!"}),0),!0}}catch(e){console.error("Failed to load game:",e),setTimeout(()=>toast({title:"Load Failed",description:"Save data might be corrupted.",variant:"destructive"}),0)}return!1},[toast,setGameState]),exportSave=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{try{let e=JSON.stringify(gameState),t=new Blob([e],{type:"application/json"}),o=URL.createObjectURL(t),r=document.createElement("a");r.href=o,r.download="chronoClickerSave.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o),setTimeout(()=>toast({title:"Save Exported!"}),0)}catch(e){console.error("Failed to export save:",e),setTimeout(()=>toast({title:"Export Failed",variant:"destructive"}),0)}},[gameState,toast]),importSave=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e=>{try{let t=JSON.parse(e);if(!t||"object"!=typeof t.resources||"object"!=typeof t.generators)return setTimeout(()=>toast({title:"Import Failed",description:"Invalid save file format.",variant:"destructive"}),0),!1;{let e=getFreshDefaultGameState(),o={...e.resources};for(let e in t.resources)o[e]={...o[e]||{},...t.resources[e]};let r={...e.generators};for(let e in t.generators)r[e]={...r[e]||{},...t.generators[e]};let n={...e.permanentBoosts,...t.permanentBoosts},s={...e.settings,...t.settings},i={...e.equippedItems,...t.equippedItems};return setGameState({...e,...t,resources:o,generators:r,permanentBoosts:n,settings:s,equippedItems:i,inventory:t.inventory||e.inventory,unlockedAchievements:t.unlockedAchievements||e.unlockedAchievements,totalClicks:t.totalClicks||e.totalClicks,points:t.points||e.points,currentCharacterId:t.currentCharacterId||e.currentCharacterId,lastUpdate:Date.now()}),setTimeout(()=>toast({title:"Save Imported Successfully!"}),0),!0}}catch(e){return console.error("Failed to import save:",e),setTimeout(()=>toast({title:"Import Failed",description:"Could not parse save file.",variant:"destructive"}),0),!1}},[toast,setGameState]),resetGame=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{window.confirm("Are you sure you want to reset your game? All progress will be lost.")&&(setGameState(getFreshDefaultGameState()),localStorage.removeItem("chronoClickerSave"),setTimeout(()=>toast({title:"Game Reset",description:"Your progress has been reset."}),0))},[toast,setGameState]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let e=setInterval(saveGame,1e4);return()=>clearInterval(e)},[saveGame]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(GameContext.Provider,{value:{gameState,setGameState,performClick,buyGenerator,equipItem,unequipItem,consumeItem,switchCharacter,setMultiplier,saveGame,loadGame,exportSave,importSave,resetGame,getCharacter,getItem,calculatePps},children:children})},useGame=()=>{let e=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(GameContext);if(void 0===e)throw Error("useGame must be used within a GameProvider");return e}},39709:(e,t,o)=>{o.d(t,{Y:()=>r});let r={points:{id:"points",name:"Chrono Shards",amount:0,perSecond:0,icon:"Sparkles"},temporalDust:{id:"temporalDust",name:"Temporal Dust",amount:0,perSecond:0,icon:"Wind"},etherealEssence:{id:"etherealEssence",name:"Ethereal Essence",amount:0,perSecond:0,icon:"Feather"},cosmicFilaments:{id:"cosmicFilaments",name:"Cosmic Filaments",amount:0,perSecond:0,icon:"Atom"},voidCrystals:{id:"voidCrystals",name:"Void Crystals",amount:0,perSecond:0,icon:"Moon"},starlightShards:{id:"starlightShards",name:"Starlight Shards",amount:0,perSecond:0,icon:"Star"},realityFibers:{id:"realityFibers",name:"Reality Fibers",amount:0,perSecond:0,icon:"Spline"},dreamFragments:{id:"dreamFragments",name:"Dream Fragments",amount:0,perSecond:0,icon:"Cloud"},memoryEchoes:{id:"memoryEchoes",name:"Memory Echoes",amount:0,perSecond:0,icon:"AudioWaveform"},resource9:{id:"resource9",name:"Resource 9",amount:0,perSecond:0,icon:"Square"},resource10:{id:"resource10",name:"Resource 10",amount:0,perSecond:0,icon:"Square"},resource11:{id:"resource11",name:"Resource 11",amount:0,perSecond:0,icon:"Square"},resource12:{id:"resource12",name:"Resource 12",amount:0,perSecond:0,icon:"Square"},mana:{id:"mana",name:"Mana Orbs",amount:0,perSecond:0,icon:"Droplet"},gold:{id:"gold",name:"Ancient Gold",amount:0,perSecond:0,icon:"Coins"}}},41066:(e,t,o)=>{o.d(t,{r:()=>r});let r={timeAnchor:{id:"timeAnchor",name:"Temporal Anchor",description:"Stabilizes a small point in time, slowly generating Chrono Shards.",icon:"Anchor",baseCost:10,costResource:"points",costScale:1.15,basePps:1,producesResource:"points",quantity:0,artifactIds:["artifact_time_crystal"],artifactDropRateFormula:"log(quantity +1) / 20"},manaWell:{id:"manaWell",name:"Mana Wellspring",description:"A mystical well that slowly bubbles forth Mana Orbs.",icon:"Disc3",baseCost:50,costResource:"points",costScale:1.2,basePps:.5,producesResource:"mana",quantity:0},goldMine:{id:"goldMine",name:"Ancient Gold Mine",description:"Extracts flecks of ancient gold from the earth.",icon:"Pickaxe",baseCost:200,costResource:"mana",costScale:1.25,basePps:.1,producesResource:"gold",quantity:0,artifactIds:["artifact_gold_nugget"],artifactDropRateFormula:"log(quantity + 1) / 30"},libraryScrolls:{id:"libraryScrolls",name:"Library of Scrolls",description:"Generates Temporal Dust through ancient texts.",icon:"ScrollText",baseCost:50,costResource:"points",costScale:1.18,basePps:2,producesResource:"temporalDust",quantity:0},essenceCollector:{id:"essenceCollector",name:"Ethereal Collector",description:"Gathers faint ethereal essence from the surroundings.",icon:"Feather",baseCost:1e3,costResource:"points",costScale:1.18,basePps:1,producesResource:"etherealEssence",quantity:0},filamentWeaver:{id:"filamentWeaver",name:"Cosmic Weaver",description:"Spins raw cosmic energy into delicate filaments.",icon:"Atom",baseCost:500,costResource:"temporalDust",costScale:1.2,basePps:.5,producesResource:"cosmicFilaments",quantity:0},voidMiner:{id:"voidMiner",name:"Void Miner",description:"Extracts crystals from the edges of the void.",icon:"Moon",baseCost:200,costResource:"etherealEssence",costScale:1.22,basePps:.2,producesResource:"voidCrystals",quantity:0},starcatcherNet:{id:"starcatcherNet",name:"Starlight Catcher",description:"A celestial net that gathers falling starlight.",icon:"Star",baseCost:100,costResource:"cosmicFilaments",costScale:1.25,basePps:.1,producesResource:"starlightShards",quantity:0},realityLoom:{id:"realityLoom",name:"Reality Loom",description:"Weaves the very fabric of reality into tangible fibers.",icon:"Spline",baseCost:50,costResource:"voidCrystals",costScale:1.28,basePps:.05,producesResource:"realityFibers",quantity:0},dreamcatcher:{id:"dreamcatcher",name:"Oneiric Catcher",description:"Sifts through the dreamscape for coherent fragments.",icon:"Cloud",baseCost:250,costResource:"starlightShards",costScale:1.19,basePps:.8,producesResource:"dreamFragments",quantity:0},echoChamber:{id:"echoChamber",name:"Echo Chamber",description:"Amplifies faint memories into discernible echoes.",icon:"AudioWaveform",baseCost:150,costResource:"dreamFragments",costScale:1.21,basePps:.3,producesResource:"memoryEchoes",quantity:0},catalyst9:{id:"catalyst9",name:"Catalyst Nine",description:"A mysterious catalyst for Resource 9.",icon:"FlaskConical",baseCost:5e4,costResource:"points",costScale:1.3,basePps:.02,producesResource:"resource9",quantity:0},reactor10:{id:"reactor10",name:"Reactor Ten",description:"A complex reactor for Resource 10.",icon:"Radiation",baseCost:1e3,costResource:"resource9",costScale:1.32,basePps:.01,producesResource:"resource10",quantity:0},synthesizer11:{id:"synthesizer11",name:"Synthesizer Eleven",description:"Synthesizes Resource 11 from raw materials.",icon:"Biohazard",baseCost:500,costResource:"resource10",costScale:1.35,basePps:.005,producesResource:"resource11",quantity:0},nexus12:{id:"nexus12",name:"Nexus Twelve",description:"The ultimate nexus for Resource 12.",icon:"Network",baseCost:200,costResource:"resource11",costScale:1.4,basePps:.001,producesResource:"resource12",quantity:0}}},46102:(e,t,o)=>{o.d(t,{Bc:()=>a,ZI:()=>u,k$:()=>l,m_:()=>c});var r=o(95155),n=o(12115),s=o(61764),i=o(59434);let a=s.Kq,c=s.bL,l=s.l9,u=n.forwardRef((e,t)=>{let{className:o,sideOffset:n=4,...a}=e;return(0,r.jsx)(s.UC,{ref:t,sideOffset:n,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...a})});u.displayName=s.UC.displayName},53180:(e,t,o)=>{o.d(t,{I:()=>n,J:()=>r});let r={chronomancer:{id:"chronomancer",name:"The Chronomancer",description:"A master of time, subtly bending it to accelerate production.",icon:"UserCircle",basePpsMultiplier:1.1,baseDropRateMultiplier:1.05},archivist:{id:"archivist",name:"The Archivist",description:"Uncovers hidden knowledge, significantly boosting discovery rates.",icon:"Library",basePpsMultiplier:1,baseDropRateMultiplier:1.2}},n="chronomancer"},59434:(e,t,o)=>{o.d(t,{cn:()=>s});var r=o(52596),n=o(39688);function s(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,n.QP)((0,r.$)(t))}},87481:(e,t,o)=>{o.d(t,{dj:()=>f});var r=o(12115);let n=1,s=1e6,i=0;function a(){return(i=(i+1)%Number.MAX_SAFE_INTEGER).toString()}let c=new Map,l=e=>{if(c.has(e))return;let t=setTimeout(()=>{c.delete(e),m({type:"REMOVE_TOAST",toastId:e})},s);c.set(e,t)},u=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:o}=t;return o?l(o):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===o||void 0===o?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],p={toasts:[]};function m(e){p=u(p,e),d.forEach(e=>{e(p)})}function y(e){let{...t}=e,o=a(),r=e=>m({type:"UPDATE_TOAST",toast:{...e,id:o}}),n=()=>m({type:"DISMISS_TOAST",toastId:o});return m({type:"ADD_TOAST",toast:{...t,id:o,open:!0,onOpenChange:e=>{e||n()}}}),{id:o,dismiss:n,update:r}}function f(){let[e,t]=r.useState(p);return r.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:y,dismiss:e=>m({type:"DISMISS_TOAST",toastId:e})}}},92364:(e,t,o)=>{o.d(t,{F:()=>n});var r=o(23062);let n={leatherHelmet:{id:"leatherHelmet",name:"Leather Helmet",description:"Basic head protection.",icon:"Shield",type:r.SP.Armour,group:r.YD.Helmet,material:r.DE.Leather,stats:{armorValue:1,ppsBoost:1},equippable:!0,slot:"Head",consumable:!1,rarity:"Common"},leatherChestplate:{id:"leatherChestplate",name:"Leather Chestplate",description:"Simple leather body armour.",icon:"Shirt",type:r.SP.Armour,group:r.YD.Chest,material:r.DE.Leather,stats:{armorValue:2,ppsBoost:2},equippable:!0,slot:"Body",consumable:!1,rarity:"Common"},woodenKnife:{id:"woodenKnife",name:"Wooden Knife",description:"A crudely fashioned wooden knife.",icon:"PocketKnife",type:r.SP.Weapon,group:r.op.Knife,material:r.DE.Wood,stats:{damageValue:1,clickPowerBoost:1},equippable:!0,slot:"Weapon",consumable:!1,rarity:"Common"},simpleRing:{id:"simpleRing",name:"Simple Ring",description:"A plain metal ring. Slightly boosts focus.",icon:"Disc",type:r.SP.Accessory,group:r.sf.Ring,material:r.DE.Metal,stats:{ppsMultiplier:.01},equippable:!0,slot:"Ring1",consumable:!1,rarity:"Common"},minorPpsPotion:{id:"minorPpsPotion",name:"Minor PPS Potion",description:"Temporarily boosts PPS by a small amount.",icon:"TestTube",type:r.SP.Consumable,group:"Potion",stats:{},equippable:!1,consumable:!0,consumeEffect:e=>{var t;let o=10*((null===(t=e.resources.points)||void 0===t?void 0:t.perSecond)||1);return e.resources.points.amount+=o,e},rarity:"Common"},artifact_time_crystal:{id:"artifact_time_crystal",name:"Time Crystal Shard",description:"A fragment of crystallized time. Boosts Chrono Shard generation slightly when equipped.",icon:"Diamond",type:r.SP.Accessory,group:r.sf.Necklace,stats:{ppsMultiplier:.02},equippable:!0,slot:"Necklace",consumable:!1,rarity:"Rare"},artifact_gold_nugget:{id:"artifact_gold_nugget",name:"Pulsing Gold Nugget",description:"This nugget of ancient gold hums with energy, increasing gold find rate.",icon:"Gem",type:r.SP.Accessory,group:r.sf.Ring,stats:{dropRateBoost:.05},equippable:!0,slot:"Ring2",consumable:!1,rarity:"Rare"}}}}]);