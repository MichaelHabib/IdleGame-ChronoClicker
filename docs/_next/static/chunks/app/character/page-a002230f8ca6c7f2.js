(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{54165:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>x,Es:()=>p,HM:()=>d,L3:()=>f,c7:()=>u,lG:()=>c,rr:()=>h});var a=s(95155),l=s(12115),r=s(33651),n=s(25318),i=s(59434);let c=r.bL;r.l9;let o=r.ZL,d=r.bm,m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});m.displayName=r.hJ.displayName;let x=l.forwardRef((e,t)=>{let{className:s,children:l,...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[l,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};u.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="DialogFooter";let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});f.displayName=r.hE.displayName;let h=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...l})});h.displayName=r.VY.displayName},81273:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>G});var a=s(95155),l=s(12115),r=s(61436),n=s(26112),i=s(30285),c=s(66695),o=s(46081),d=s(39033),m=s(52712),x=s(63655),u="Avatar",[p,f]=(0,o.A)(u),[h,j]=p(u),g=l.forwardRef((e,t)=>{let{__scopeAvatar:s,...r}=e,[n,i]=l.useState("idle");return(0,a.jsx)(h,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,a.jsx)(x.sG.span,{...r,ref:t})})});g.displayName=u;var N="AvatarImage",y=l.forwardRef((e,t)=>{let{__scopeAvatar:s,src:r,onLoadingStatusChange:n=()=>{},...i}=e,c=j(N,s),o=function(e,t){let[s,a]=l.useState("idle");return(0,m.N)(()=>{if(!e){a("error");return}let s=!0,l=new window.Image,r=e=>()=>{s&&a(e)};return a("loading"),l.onload=r("loaded"),l.onerror=r("error"),l.src=e,t&&(l.referrerPolicy=t),()=>{s=!1}},[e,t]),s}(r,i.referrerPolicy),u=(0,d.c)(e=>{n(e),c.onImageLoadingStatusChange(e)});return(0,m.N)(()=>{"idle"!==o&&u(o)},[o,u]),"loaded"===o?(0,a.jsx)(x.sG.img,{...i,ref:t,src:r}):null});y.displayName=N;var w="AvatarFallback",b=l.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:r,...n}=e,i=j(w,s),[c,o]=l.useState(void 0===r);return l.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(e)}},[r]),c&&"loaded"!==i.imageLoadingStatus?(0,a.jsx)(x.sG.span,{...n,ref:t}):null});b.displayName=w;var v=s(59434);let C=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(g,{ref:t,className:(0,v.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});C.displayName=g.displayName;let R=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(y,{ref:t,className:(0,v.cn)("aspect-square h-full w-full",s),...l})});R.displayName=y.displayName;let A=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(b,{ref:t,className:(0,v.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});A.displayName=b.displayName;var k=s(53180),S=s(35227),E=s(87374),q=s(91721),P=s(67270),M=s(89829),z=s(76570),I=s(8376),Z=s(34301),L=s(23062),$=s(91549),D=s(54165),F=s(66424);function O(e){let{isOpen:t,onClose:s,slotToEquip:l,availableItems:r,onEquipItem:n,getIcon:o}=e;return t&&l?(0,a.jsx)(D.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(D.Cf,{className:"sm:max-w-md bg-card text-card-foreground shadow-xl rounded-lg",children:[(0,a.jsxs)(D.c7,{children:[(0,a.jsxs)(D.L3,{className:"font-headline text-xl text-primary capitalize",children:["Equip to ",l.replace(/([A-Z0-9])/g," $1").trim()]}),(0,a.jsx)(D.rr,{children:"Choose an item from your inventory."})]}),(0,a.jsx)(F.F,{className:"max-h-[60vh] p-1 mt-2 border-t border-b",children:0===r.length?(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No suitable items in your inventory for this slot."}):(0,a.jsx)("div",{className:"space-y-2 py-2",children:r.map(e=>{let{item:t,quantity:r}=e,d=o(t.icon);return(0,a.jsxs)(c.Zp,{className:"flex items-center justify-between p-3 hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>{n(t.id,l),s()},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d,{className:"h-8 w-8 text-primary shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0",children:[" ",(0,a.jsx)("p",{className:"font-semibold truncate",title:t.name,children:t.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Qty: ",r]})]})]}),(0,a.jsxs)(i.$,{size:"sm",variant:"ghost",className:"ml-2",onClick:e=>{e.stopPropagation(),n(t.id,l),s()},"aria-label":"Equip ".concat(t.name),children:[(0,a.jsx)(I.A,{className:"mr-1 h-4 w-4"})," Equip"]})]},t.id)})})}),(0,a.jsx)(D.Es,{className:"mt-2",children:(0,a.jsx)(D.HM,{asChild:!0,children:(0,a.jsx)(i.$,{type:"button",variant:"outline",className:"w-full",children:"Cancel"})})})]})}):null}function G(){let{gameState:e,switchCharacter:t,getCharacter:s,getItem:o,equipItem:d,unequipItem:m}=(0,n.I)(),[x,u]=(0,l.useState)(!1),[p,f]=(0,l.useState)({title:"",content:""}),[h,j]=(0,l.useState)(!1),[g,N]=(0,l.useState)(null),[y,w]=(0,l.useState)([]),b=s(),v=e=>e&&S[e]?S[e]:E.A,D=e=>{let t=k.J[e];t&&(f({title:"About ".concat(t.name),content:t.description+"\n\nPPS Multiplier: x".concat(t.basePpsMultiplier.toFixed(2),"\nDrop Rate Multiplier: x").concat(t.baseDropRateMultiplier.toFixed(2))}),u(!0))},F=e=>{let t=o(e);if(t){let e=Object.entries(t.stats).map(e=>{let[t,s]=e;return"".concat(t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),": ").concat(s)}).join("\n");e||(e="No special stats."),f({title:"About ".concat(t.name),content:"".concat(t.description,"\n\nType: ").concat(t.type,"\nGroup: ").concat(t.group||"N/A","\nMaterial: ").concat(t.material||"N/A","\nRarity: ").concat(t.rarity||"Common","\n\nStats:\n").concat(e)}),u(!0)}},G=(e,t)=>{if(!e.equippable)return!1;if(e.slot===t||e.group===L.sf.Ring&&("Ring1"===t||"Ring2"===t)||e.slot===L.sf.Ring&&("Ring1"===t||"Ring2"===t))return!0;let s=e.type,a=e.group;return s===L.SP.Armour&&(a===L.YD.Helmet&&"Head"===t||a===L.YD.Chest&&"Body"===t||a===L.YD.Leggings&&"Legs"===t||a===L.YD.Boots&&"Feet"===t)||s===L.SP.Weapon&&"Weapon"===t||s===L.SP.Accessory&&a===L.sf.Necklace&&"Necklace"===t||!1},B=t=>{w(e.inventory.map(e=>{let t=o(e.itemId);return t?{item:t,quantity:e.quantity}:null}).filter(e=>e&&G(e.item,t))),N(t),j(!0)};return(0,a.jsxs)(r.r,{children:[(0,a.jsxs)("div",{className:"container mx-auto py-8 space-y-8",children:[(0,a.jsxs)(c.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"font-headline text-2xl flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"text-primary h-7 w-7"}),"Select Your Persona"]}),(0,a.jsx)(c.BT,{children:"Choose a character to embody. Each offers unique bonuses."})]}),(0,a.jsx)(c.Wu,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.values(k.J).map(s=>{let l=v(s.icon),r=e.currentCharacterId===s.id;return(0,a.jsxs)(c.Zp,{className:"transition-all ".concat(r?"ring-2 ring-primary shadow-xl":"hover:shadow-md"),children:[(0,a.jsxs)(c.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)(c.ZB,{className:"text-lg font-medium flex items-center gap-2",children:[(0,a.jsx)(l,{className:"h-5 w-5 ".concat(r?"text-primary":"text-muted-foreground")}),s.name]}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>D(s.id),"aria-label":"More info about ".concat(s.name),children:(0,a.jsx)(P.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(c.Wu,{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s.description}),(0,a.jsxs)("div",{className:"text-xs mt-2 space-y-1",children:[(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[(0,a.jsx)(M.A,{className:"h-3 w-3 text-yellow-500"})," PPS Multiplier: x",s.basePpsMultiplier.toFixed(2)]}),(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[(0,a.jsx)(z.A,{className:"h-3 w-3 text-green-500"})," Drop Rate Multiplier: x",s.baseDropRateMultiplier.toFixed(2)]})]})]}),(0,a.jsx)(c.wL,{children:(0,a.jsx)(i.$,{className:"w-full",onClick:()=>t(s.id),disabled:r,variant:r?"secondary":"default",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.A,{className:"mr-2 h-4 w-4"})," Selected"]}):"Select Persona"})})]},s.id)})})]}),b&&(0,a.jsxs)(c.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsxs)(c.ZB,{className:"font-headline text-2xl",children:["Equipped Gear (",b.name,")"]}),(0,a.jsx)(c.BT,{children:"Manage items equipped by your current persona. Click an empty slot to equip."})]}),(0,a.jsx)(c.Wu,{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:L.hO.map(t=>{let s=e.equippedItems[t],l=s?o(s):null,r=l?v(l.icon):Z.A;return(0,a.jsxs)(c.Zp,{className:"flex flex-col items-center justify-center p-3 min-h-[120px] bg-muted/30",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-muted-foreground capitalize",children:t.replace(/([A-Z0-9])/g," $1").trim()}),l?(0,a.jsxs)("div",{className:"text-center mt-1",children:[(0,a.jsxs)(C,{className:"mx-auto mb-1",children:[(0,a.jsx)(R,{asChild:!0,src:"#",children:(0,a.jsx)(r,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)(A,{children:(0,a.jsx)(r,{className:"h-6 w-6 text-primary"})})]}),(0,a.jsx)("p",{className:"text-xs font-medium truncate w-full",children:l.name}),(0,a.jsxs)("div",{className:"flex gap-1 mt-1",children:[(0,a.jsx)(i.$,{variant:"outline",size:"xs",onClick:()=>F(l.id),children:(0,a.jsx)(P.A,{className:"h-3 w-3"})}),(0,a.jsx)(i.$,{variant:"destructive",size:"xs",onClick:()=>m(t),children:"Unequip"})]})]}):(0,a.jsxs)(i.$,{variant:"ghost",className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground hover:bg-muted/50 hover:text-foreground p-2",onClick:()=>B(t),children:[(0,a.jsx)(r,{className:"h-6 w-6 mb-1"}),(0,a.jsx)("span",{className:"text-xs text-center",children:"Equip Item"})]})]},t)})})]})]}),(0,a.jsx)($.z,{isOpen:x,onClose:()=>u(!1),title:p.title,children:(0,a.jsx)("pre",{className:"whitespace-pre-wrap font-body text-sm",children:p.content})}),(0,a.jsx)(O,{isOpen:h,onClose:()=>j(!1),slotToEquip:g,availableItems:y,onEquipItem:d,getIcon:v})]})}},91549:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var a=s(95155),l=s(54165),r=s(30285);function n(e){let{isOpen:t,onClose:s,title:n,description:i,children:c}=e;return(0,a.jsx)(l.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(l.Cf,{className:"sm:max-w-[425px] bg-card text-card-foreground shadow-xl rounded-lg",children:[(0,a.jsxs)(l.c7,{children:[(0,a.jsx)(l.L3,{className:"font-headline text-2xl text-primary",children:n}),i&&(0,a.jsx)(l.rr,{children:i})]}),(0,a.jsx)("div",{className:"py-4 max-h-[60vh] overflow-y-auto",children:c}),(0,a.jsx)(l.Es,{children:(0,a.jsx)(l.HM,{asChild:!0,children:(0,a.jsx)(r.$,{type:"button",variant:"outline",children:"Close"})})})]})})}},98557:(e,t,s)=>{Promise.resolve().then(s.bind(s,81273))}},e=>{var t=t=>e(e.s=t);e.O(0,[568,247,78,33,626,441,684,358],()=>t(98557)),_N_E=e.O()}]);